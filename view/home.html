<!DOCTYPE HTML>
<html lang="en">
<head>
	<title>Home</title>
	<meta name="viewport" content="initial-scale=1">
	<link href="style.css" rel="stylesheet" type="text/css">
</head>
<body>
	<div align="center">
		<h1>HU_land_C_Games</h1>
		
		<div class="word_container">
			<div class="userInfo"><div class="name"></div></div>
		</div>
		<div class="menu">			
			<a href="black_jack.html"><input class="button" type="submit" name="about_button" value="blackjack++"\></a>
			<br>
<!--
			<a href="user.html"><input class="button" type="submit" name="whoami_button" value="whoami"\></a>
			<br>
-->
			<a><input id="addBalanceButton" class="button" type="submit" name="add_balance_button" value="add balance"\></a>
			<div id="addBalance" class="formContainer" hidden>
				<form id="addBalanceForm" method="post" action="/addBalance">
					<div id="userBalance"></div>
					<input id="balanceAmount" class="formInput" placeholder="0.0" type="number" name="balanceAmount" min="0" max="4000" step="0.5">
					<input id="addBalanceSubmitFormButton" class="formButton" type="submit" value="add">
					<div id="errorResponseAddBalance"></div>
				</form>
			</div>
			<br>
			<a href="test.html"><input id="test" class="button" type="submit" name="test_button" value="test"\></a>
		</div>
		<hr class="divider">
		<form method="post" id="logout" action="/logout">
			<label>
				<input class="button" type="submit" name="logout" value="logout"\>
			</label>
		</form>
	</div>
	<script type="text/javascript" src="logout.js"></script>
	<script type="text/javascript" src="get_name.js"></script>
	<script type="text/javascript" src="user.js"></script>
	<script>
	window.addEventListener('load', () => auth());
	async function auth() {

		let cookie = decodeURIComponent(document.cookie).split("=");
		let token = cookie[1];

		let response =
		await fetch( '/home', {
	//		method: 'GET',
			headers: new Headers({
				'Authorization': token
			})
		})
		.then( response => response.text() )
		.catch( error => console.log(error) );
	}
	</script>
	<script type="text/javascript" src="test.js"></script>

</body>
</html>